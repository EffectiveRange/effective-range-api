openapi: 3.1.0
x-stoplight:
  id: 2300b1a6d0c75
info:
  version: 0.1.0
  title: Device API
  summary: Effective Range device API
  description: Edge device API for the Effective Range system
  contact:
    name: Effective Range
    email: info@effective-range.com
    url: 'https://www.effective-range.com'
  license:
    name: MIT
    url: 'https://raw.githubusercontent.com/EffectiveRange/effective-range-api/refs/heads/main/LICENSE'
tags:
  - name: device
    description: Edge device
  - name: health
    description: Component health
paths:
  /device/activate:
    post:
      summary: Activate device
      tags:
        - device
      responses:
        '202':
          description: Accepted
      operationId: activate-device
      x-stoplight:
        id: aq16emkx2iucl
      description: Activate device for launch
      requestBody:
        content:
          application/json:
            schema:
              type: object
              $ref: '#/components/schemas/Activation'
              x-stoplight:
                id: gftvtlg0p4iq9
    parameters: []
  /device/deactivate:
    post:
      summary: Deactivate device
      tags:
        - device
      responses:
        '202':
          description: Accepted
      operationId: deactivate-device
      x-stoplight:
        id: 5qetcgo65ggdi
      description: Deactivate device for launch
      requestBody:
        content:
          application/json:
            schema:
              type: object
              $ref: '#/components/schemas/Deactivation'
              x-stoplight:
                id: gftvtlg0p4iq9
    parameters: []
  /health/alive:
    $ref: ./health.yaml#/paths/~1health~1alive
  /health/status:
    $ref: ./health.yaml#/paths/~1health~1status
components:
  schemas:
    Activation:
      title: Activation
      x-stoplight:
        id: w679jccls5uq4
      type: object
      required:
        - session_id
        - tokens
      properties:
        session_id:
          type: string
          x-stoplight:
            id: lpx2qmuymnol8
          format: uuid
        tokens:
          type: array
          x-stoplight:
            id: t5s8hdt03rj88
          items:
            type: object
            $ref: ./model.yaml#/components/schemas/Token
            x-stoplight:
              id: gftvtlg0p4iq9
    Deactivation:
      title: Deactivation
      x-stoplight:
        id: ayw0nnal3187d
      type: object
      required:
        - session_id
      properties:
        session_id:
          type: string
          x-stoplight:
            id: h70q49r4xag5y
          format: uuid
